---
title: Subagents
description: Subagents allow the main agent to perform small tasks without polluting context.
---

import FreeBadge from '/snippets/free-badge.mdx';

<FreeBadge />

Piebald subagents allow the main agent to perform scoped sub-tasks such as explore the codebase and make mechanical multi-file edits.  It's especially beneficial because it offloads context-heavy work like reading many files to a separate context window and returns only the distilled information requested, thus saving context window space in the main conversation.

<video src="/imgs/v0-1-18/sub_agents.mp4" name="sub_agents.mp4" controls class="shadow-md rounded-xl">Video demonstrating subagents</video>

By default, subagents are spawned using the same permission mode, profile, provider, and model as the main agent, but before approving the tool you can change any of these.  If you have YOLO mode selected, subagents will be spawned with the **Default** permission mode and profile.

## Technical details

Subagents are spawned by a new builtin tool, `LaunchSubAgent`.  This tool takes a `prompt` parameter populated by the model.  The last message generated by the subagent will be returned as the output of this tool back to the main agent.

The `LaunchSubAgent` tool creates a new chat and sends the `prompt` parameter as a first user message and automatically attaches a **Subagent** context notification that informs the subagent model that it's running in a subagent context.

Subagents are meant to execute focused tasks, so the following built-in tools are disabled for them:
* `LaunchSubAgent`
* `ProposePlanToUser`
* `AskUserQuestion`
* `TodoWrite`

Since subagent chats are normal Piebald chats, you can work in the subagent chat like any other chat, even when the subagent is in progress.  You can tag them, generate titles for them, etc.  Subagent chats are highlighted green in the sidebar and are nested under their parent chat.